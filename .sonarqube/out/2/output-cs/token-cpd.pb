¦
OC:\Users\Esteban\Downloads\Parcial\Parcial\src\Infrastructure\Logging\Logger.cs
	namespace 	
Infrastructure
 
. 
Logging  
;  !
public 
static 
class 
Logger 
{ 
public 

static 
bool 
Enabled 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
true/ 3
;3 4
public		 

static		 
void		 
Log		 
(		 
string		 !
message		" )
)		) *
{

 
if 

( 
! 
Enabled 
) 
return 
; 
Console 
. 
	WriteLine 
( 
$" 
$str "
{" #
DateTime# +
.+ ,
Now, /
}/ 0
$str0 3
{3 4
message4 ;
}; <
"< =
)= >
;> ?
} 
public 

static 
void 
Try 
( 
Action !
action" (
)( )
{ 
try 
{ 	
action 
( 
) 
; 
} 	
catch 
( 
	Exception 
ex 
) 
{ 	
Log 
( 
$" 
$str *
{* +
ex+ -
.- .
Message. 5
}5 6
"6 7
)7 8
;8 9
} 	
} 
} £
KC:\Users\Esteban\Downloads\Parcial\Parcial\src\Infrastructure\Data\BadDb.cs
	namespace 	
Infrastructure
 
. 
Data 
; 
public 
static 
class 
BadDb 
{ 
public		 

static		 
string		 
ConnectionString		 )
{		* +
get		, /
;		/ 0
set		1 4
;		4 5
}		6 7
=		8 9
$str			: ƒ
;
		ƒ „
public 

static 
int !
ExecuteNonQueryUnsafe +
(+ ,
string, 2
sql3 6
)6 7
{ 
using 
var 
conn 
= 
new 
SqlConnection *
(* +
ConnectionString+ ;
); <
;< =
using 
var 
cmd 
= 
new 

SqlCommand &
(& '
sql' *
,* +
conn, 0
)0 1
;1 2
conn 
. 
Open 
( 
) 
; 
return 
cmd 
. 
ExecuteNonQuery "
(" #
)# $
;$ %
} 
public 

static 
IDataReader 
ExecuteReaderUnsafe 1
(1 2
string2 8
sql9 <
)< =
{ 
var 
conn 
= 
new 
SqlConnection $
($ %
ConnectionString% 5
)5 6
;6 7
var 
cmd 
= 
new 

SqlCommand  
(  !
sql! $
,$ %
conn& *
)* +
;+ ,
conn 
. 
Open 
( 
) 
; 
return 
cmd 
. 
ExecuteReader  
(  !
)! "
;" #
} 
} 