‡?
@C:\Users\Esteban\Downloads\Parcial\Parcial\src\WebApi\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Logging 
. 
ClearProviders 
( 
)  
;  !
builder 
. 
Logging 
. 

AddConsole 
( 
) 
; 
builder

 
.

 
Services

 
.

 
AddCors

 
(

 
options

  
=>

! #
options

$ +
.

+ ,
	AddPolicy

, 5
(

5 6
$str

6 @
,

@ A
policy 

=> 
policy 
. 
AllowAnyOrigin #
(# $
)$ %
. 
AllowAnyHeader #
(# $
)$ %
. 
AllowAnyMethod #
(# $
)$ %
)% &
)& '
;' (
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
BadDb 
. 
ConnectionString 
= 
app 
. 
Configuration *
[* +
$str+ B
]B C
?? 
throw 
new %
InvalidOperationException *
(* +
$str+ _
)_ `
;` a
app 
. 
UseCors 
( 
$str 
) 
; 
app 
. 
Use 
( 
async 
( 
context 
, 
next 
) 
=>  
{ 
try 
{ 
await 
next 
( 
) 
; 
} 
catch 	
(
 
	Exception 
ex 
) 
{ 
Logger 
. 
Log 
( 
$" 
$str 
{ 
ex 
.  
Message  '
}' (
"( )
)) *
;* +
await 
context 
. 
Response 
. 

WriteAsync )
() *
$str* =
)= >
;> ?
}   
}!! 
)!! 
;!! 
app## 
.## 
MapGet## 

(##
 
$str## 
,## 
(## 
)## 
=>## 
{$$ 
Logger%% 

.%%
 
Log%% 
(%% 
$str%% 
)%% 
;%% 
var&& 
randomValue&& 
=&& 
new&& 
Random&&  
(&&  !
)&&! "
.&&" #
Next&&# '
(&&' (
)&&( )
;&&) *
if'' 
('' 
randomValue'' 
%'' 
$num'' 
=='' 
$num'' 
)'' 
{(( 
throw)) 
new)) %
InvalidOperationException)) +
())+ ,
$str)), H
)))H I
;))I J
}** 
return++ 

Results++ 
.++ 
Ok++ 
(++ 
new++ 
{++ 
status++ "
=++# $
$str++% )
,++) *
value+++ 0
=++1 2
randomValue++3 >
}++? @
)++@ A
;++A B
},, 
),, 
;,, 
app.. 
... 
MapPost.. 
(.. 
$str.. 
,.. 
async.. 
(.. 
HttpContext.. )
httpContext..* 5
)..5 6
=>..7 9
{// 
using00 	
var00
 
reader00 
=00 
new00 
StreamReader00 '
(00' (
httpContext00( 3
.003 4
Request004 ;
.00; <
Body00< @
)00@ A
;00A B
var11 
body11 
=11 
await11 
reader11 
.11 
ReadToEndAsync11 *
(11* +
)11+ ,
;11, -
var22 
parts22 
=22 
(22 
body22 
??22 
string22 
.22  
Empty22  %
)22% &
.22& '
Split22' ,
(22, -
$char22- 0
)220 1
;221 2
var33 
customer33 
=33 
parts33 
.33 
Length33 
>33  !
$num33" #
?33$ %
parts33& +
[33+ ,
$num33, -
]33- .
:33/ 0
$str331 <
;33< =
var44 
product44 
=44 
parts44 
.44 
Length44 
>44  
$num44! "
?44# $
parts44% *
[44* +
$num44+ ,
]44, -
:44. /
$str440 9
;449 :
var55 
quantity55 
=55 
parts55 
.55 
Length55 
>55  !
$num55" #
&&55$ &
int55' *
.55* +
TryParse55+ 3
(553 4
parts554 9
[559 :
$num55: ;
]55; <
,55< =
out55> A
var55B E
q55F G
)55G H
?55I J
q55K L
:55M N
$num55O P
;55P Q
var66 
price66 
=66 
parts66 
.66 
Length66 
>66 
$num66  
&&66! #
decimal66$ +
.66+ ,
TryParse66, 4
(664 5
parts665 :
[66: ;
$num66; <
]66< =
,66= >
out66? B
var66C F
p66G H
)66H I
?66J K
p66L M
:66N O
$num66P U
;66U V
var88 
order88 
=88 
CreateOrderUseCase88 "
.88" #
Execute88# *
(88* +
customer88+ 3
,883 4
product885 <
,88< =
quantity88> F
,88F G
price88H M
)88M N
;88N O
Logger:: 

.::
 
Log:: 
(:: 
$":: 
$str::  
{::  !
order::! &
.::& '
Id::' )
}::) *
"::* +
)::+ ,
;::, -
return;; 

Results;; 
.;; 
Ok;; 
(;; 
order;; 
);; 
;;; 
}<< 
)<< 
;<< 
app>> 
.>> 
MapGet>> 

(>>
 
$str>> 
,>> 
(>> 
)>> 
=>>>  
{?? 
return@@ 

Results@@ 
.@@ 
Ok@@ 
(@@ 
Domain@@ 
.@@ 
Services@@ %
.@@% &
OrderService@@& 2
.@@2 3

LastOrders@@3 =
)@@= >
;@@> ?
}AA 
)AA 
;AA 
appCC 
.CC 
MapGetCC 

(CC
 
$strCC 
,CC 
(CC 
IConfigurationCC #
configurationCC$ 1
)CC1 2
=>CC3 5
{DD 
returnEE 

ResultsEE 
.EE 
OkEE 
(EE 
newEE 
{FF 
connectionStringGG 
=GG 
$strGG )
,GG) *
environmentHH 
=HH 
EnvironmentHH !
.HH! ""
GetEnvironmentVariableHH" 8
(HH8 9
$strHH9 Q
)HHQ R
,HHR S
versionII 
=II 
$strII 
}JJ 
)JJ 
;JJ 
}KK 
)KK 
;KK 
awaitMM 
appMM 	
.MM	 

RunAsyncMM
 
(MM 
)MM 
;MM ¹
UC:\Users\Esteban\Downloads\Parcial\Parcial\src\WebApi\Controllers\OrdersController.cs
	namespace 	
WebApi
 
. 
Controllers 
{ 
public 

static 
class 
OrdersController (
{ 
public		 
const		 
string		 
Message		 #
=		$ %
$str		& a
;		a b
}

 
} 